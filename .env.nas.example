# NAS环境配置模板
# 复制此文件为 .env.nas 并根据实际环境修改
# 使用方法: cp .env.nas.example .env.nas

# === 基础配置 ===
COMPOSE_PROJECT_NAME=wechat-fortune-draw-nas
NODE_ENV=production
VERSION=latest
BUILD_DATE=

# === 端口配置 ===
# 使用高端口避免与NAS现有服务冲突
BACKEND_PORT=18080
ADMINER_PORT=18082

# === NAS路径配置 ===
# 群晖NAS推荐路径
NAS_DATA_PATH=/volume1/docker/wechat-fortune-draw/data
NAS_LOGS_PATH=/volume1/docker/wechat-fortune-draw/logs

# 威联通NAS路径
# NAS_DATA_PATH=/share/Container/wechat-fortune-draw/data
# NAS_LOGS_PATH=/share/Container/wechat-fortune-draw/logs

# Unraid NAS路径
# NAS_DATA_PATH=/mnt/user/appdata/wechat-fortune-draw/data
# NAS_LOGS_PATH=/mnt/user/appdata/wechat-fortune-draw/logs

# === 数据库配置 ===
DB_PATH=/app/data/fortune.db
DB_CACHE_SIZE=10000
DB_JOURNAL_MODE=WAL
DB_SYNCHRONOUS=NORMAL

# === CORS配置 ===
CORS_ORIGINS=http://localhost:18081,http://127.0.0.1:18081,https://servicewechat.com

# === 性能配置 ===
# 根据NAS硬件性能调整
CPU_LIMIT=1.0
MEMORY_LIMIT=1G
CPU_RESERVATION=0.2
MEMORY_RESERVATION=256M

# Node.js性能优化
NODE_OPTIONS=--max-old-space-size=512
UV_THREADPOOL_SIZE=4

# === 日志配置 ===
LOG_MAX_SIZE=50m
LOG_MAX_FILES=5

# === 网络配置 ===
NETWORK_SUBNET=172.21.0.0/16

# === 安全配置 ===
# 如果需要JWT认证，请设置以下密钥
# JWT_SECRET=your_super_secret_jwt_key_here

# === 微信小程序配置（可选）===
# 如果需要微信登录功能，请配置以下参数
# WECHAT_APP_ID=your_wechat_app_id
# WECHAT_APP_SECRET=your_wechat_app_secret